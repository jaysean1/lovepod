# iPodé£æ ¼éŸ³ä¹æ’­æ”¾å™¨ - åŠŸèƒ½ä¼˜åŒ–éœ€æ±‚æ–‡æ¡£

## æ–‡æ¡£ä¿¡æ¯
- **æ–‡æ¡£ç±»å‹**: åŠŸèƒ½ä¼˜åŒ–è¡¥å……æ–‡æ¡£
- **å…³è”æ–‡æ¡£**: `prd.md` (äº§å“éœ€æ±‚æ–‡æ¡£)
- **åˆ›å»ºæ—¥æœŸ**: 2025å¹´7æœˆ14æ—¥
- **æ›´æ–°æ—¥æœŸ**: 2025å¹´7æœˆ14æ—¥
- **æ–‡æ¡£ç‰ˆæœ¬**: v1.1 (ç¬¬ä¸€è½®ä¿®å¤åæ›´æ–°)
- **ä¼˜å…ˆçº§**: é«˜ä¼˜å…ˆçº§ä¿®å¤é¡¹

## ä¿®å¤è¿›åº¦æ›´æ–°
- **ç¬¬ä¸€è½®ä¿®å¤å®Œæˆ**: 2025å¹´7æœˆ14æ—¥
- **å·²ä¿®å¤é—®é¢˜**: 
  - âœ… è½¬ç›˜æ§åˆ¶åŒºå›¾æ ‡ç‚¹å‡»èŒƒå›´ä¼˜åŒ–
  - âœ… Playlistç•Œé¢ä¸­å¤®æŒ‰é’®åŠŸèƒ½
- **é—ç•™é—®é¢˜**: 
  - ğŸ”„ Now Playingç•Œé¢æ’­æ”¾è¿›åº¦æ¡æ›´æ–°é—®é¢˜
  - ğŸ”„ Playlistç•Œé¢Cover Flowæ»šåŠ¨è¾¹ç•Œä¼˜åŒ–

## æ¦‚è¿°
æœ¬æ–‡æ¡£è®°å½•äº†å½“å‰iPodé£æ ¼éŸ³ä¹æ’­æ”¾å™¨åœ¨ç”¨æˆ·ä½“éªŒæ–¹é¢å‘ç°çš„å…³é”®é—®é¢˜ï¼Œè¿™äº›é—®é¢˜å½±å“äº†æ ¸å¿ƒåŠŸèƒ½çš„æ­£å¸¸ä½¿ç”¨ï¼Œéœ€è¦åœ¨ä¸‹ä¸ªè¿­ä»£ä¸­ä¼˜å…ˆä¿®å¤ã€‚

## åŠŸèƒ½ä¼˜åŒ–éœ€æ±‚åˆ—è¡¨

### 1. è½¬ç›˜æ§åˆ¶åŒºå›¾æ ‡ç‚¹å‡»èŒƒå›´ä¼˜åŒ– âœ… **å·²ä¿®å¤**

#### é—®é¢˜æè¿°
- **åŸçŠ¶æ€**: è½¬ç›˜æ§åˆ¶åŒºçš„å›¾æ ‡ï¼ˆå¦‚MENUã€PLAY/PAUSEã€ä¸Šä¸€é¦–/ä¸‹ä¸€é¦–ï¼‰ç‚¹å‡»è§¦å‘èŒƒå›´è¿‡å°
- **å…·ä½“é—®é¢˜**: ç”¨æˆ·å¿…é¡»ç²¾ç¡®ç‚¹å‡»å›¾æ ‡æœ¬èº«æ‰èƒ½è§¦å‘æ“ä½œï¼Œå®¹é”™ç‡æä½

#### ä¿®å¤çŠ¶æ€
- **ä¿®å¤ç»“æœ**: âœ… **å·²å®Œæˆ**
- **ä¿®å¤æ—¥æœŸ**: 2025å¹´7æœˆ14æ—¥
- **ä¿®å¤å†…å®¹**: æ‰©å¤§äº†å›¾æ ‡ç‚¹å‡»åŒºåŸŸï¼Œç”¨æˆ·ç‚¹å‡»å›¾æ ‡å‘¨å›´åŒºåŸŸéƒ½èƒ½è§¦å‘æ“ä½œ
- **æµ‹è¯•éªŒè¯**: å·²é€šè¿‡æµ‹è¯•ï¼Œæ“ä½œå®¹é”™ç‡æ˜¾è‘—æå‡

---

### 2. Playlistç•Œé¢Cover Flowæ»šåŠ¨è¾¹ç•Œä¼˜åŒ– ğŸ”„ **å¾…ä¼˜åŒ–**

#### é—®é¢˜æè¿°ï¼ˆæ›´æ–°åï¼‰
- **å½“å‰çŠ¶æ€**: Cover Flowåœ¨æ»šåŠ¨åˆ°æœ€å³ä¾§æ—¶ä»å­˜åœ¨è¾¹ç•Œé—®é¢˜
- **å…·ä½“é—®é¢˜**: æ»šåŠ¨åˆ°æœ€å³ä¾§æ—¶å­˜åœ¨ä¸€ä¸ª"ä¸å¯è§çš„è¾¹ç•Œ"ï¼Œç”¨æˆ·ä½“éªŒä¸ä½³
- **ä¼˜åŒ–éœ€æ±‚**: å·¦å³ä¸¤ä¾§ä¸éœ€è¦é¢å¤–çš„è¾¹ç•Œï¼Œæ»šåŠ¨åˆ°æœ€å³ä¾§æ—¶é€‰ä¸­çš„å°±æ˜¯æœ€åä¸€å¼ playlistï¼Œç»§ç»­å‘å³æ»šåŠ¨æ—¶ï¼Œé€‰ä¸­çš„ä¾ç„¶æ˜¯è¿™ä¸ªå¯¹è±¡

#### ç”¨æˆ·ä½“éªŒç›®æ ‡
- **æ— è¾¹ç•Œä½“éªŒ**: æ¶ˆé™¤æ»šåŠ¨è¾¹ç•Œæ„Ÿï¼Œå®ç°çœŸæ­£çš„å¾ªç¯é€‰æ‹©ä½“éªŒ
- **è‡ªç„¶è¿‡æ¸¡**: æ»šåŠ¨åˆ°è¾¹ç•Œæ—¶é€‰ä¸­çŠ¶æ€ä¿æŒä¸å˜ï¼Œä¸å‡ºç°ä»»ä½•è§†è§‰æˆ–äº¤äº’ä¸Šçš„è¾¹ç•Œæç¤º
- **ä¸€è‡´æ€§**: å·¦å³ä¸¤ä¾§çš„è¾¹ç•Œè¡Œä¸ºä¿æŒä¸€è‡´

#### ä¼˜åŒ–æ–¹æ¡ˆï¼ˆæ›´æ–°ç‰ˆï¼‰
- **è¾¹ç•Œå¤„ç†**: ç§»é™¤æ‰€æœ‰è¾¹ç•Œé™åˆ¶ï¼Œå®ç°æ— é™å¾ªç¯æ»šåŠ¨æ•ˆæœ
- **çŠ¶æ€ä¿æŒ**: å½“æ»šåŠ¨åˆ°æœ€å³ä¾§è¾¹ç•Œæ—¶ï¼Œç»§ç»­å‘å³æ»šåŠ¨ä¿æŒé€‰ä¸­æœ€åä¸€ä¸ªplaylist
- **å½“æ»šåŠ¨åˆ°æœ€å·¦ä¾§è¾¹ç•Œæ—¶ï¼Œç»§ç»­å‘å·¦æ»šåŠ¨ä¿æŒé€‰ä¸­ç¬¬ä¸€ä¸ªplaylist
- **è§†è§‰ä¼˜åŒ–**: ç¡®ä¿è¾¹ç•Œå¤„çš„è¿‡æ¸¡åŠ¨ç”»è‡ªç„¶æµç•…ï¼Œæ— å¡é¡¿æ„Ÿ

#### æŠ€æœ¯å®ç°å»ºè®®ï¼ˆæ›´æ–°ç‰ˆï¼‰
```swift
// è¾¹ç•Œå¤„ç†é€»è¾‘ç¤ºä¾‹
func handleBoundaryScrolling(currentIndex: Int, direction: ScrollDirection) -> Int {
    if currentIndex >= playlists.count - 1 && direction == .right {
        return playlists.count - 1  // ä¿æŒåœ¨æœ€åä¸€ä¸ª
    }
    if currentIndex <= 0 && direction == .left {
        return 0  // ä¿æŒåœ¨ç¬¬ä¸€ä¸ª
    }
    return currentIndex + (direction == .right ? 1 : -1)
}
```

#### éªŒæ”¶æ ‡å‡†ï¼ˆæ›´æ–°ç‰ˆï¼‰
- [ ] æ»šåŠ¨åˆ°æœ€å³ä¾§æ—¶ï¼Œç»§ç»­å‘å³æ»šåŠ¨ä¿æŒé€‰ä¸­æœ€åä¸€ä¸ªplaylist
- [ ] æ»šåŠ¨åˆ°æœ€å·¦ä¾§æ—¶ï¼Œç»§ç»­å‘å·¦æ»šåŠ¨ä¿æŒé€‰ä¸­ç¬¬ä¸€ä¸ªplaylist
- [ ] è¾¹ç•Œå¤„æ— è§†è§‰æˆ–äº¤äº’ä¸Šçš„å¼‚å¸¸æç¤º
- [ ] æ•´ä½“æ»šåŠ¨ä½“éªŒæµç•…è‡ªç„¶ï¼Œæ— è¾¹ç•Œæ„Ÿ

---

### 3. Playlistç•Œé¢ä¸­å¤®æŒ‰é’®åŠŸèƒ½ âœ… **å·²ä¿®å¤**

#### é—®é¢˜æè¿°
- **åŸçŠ¶æ€**: åœ¨Playlistç•Œé¢é€‰ä¸­æ’­æ”¾åˆ—è¡¨åï¼Œç‚¹å‡»ä¸­å¤®æŒ‰é’®æ— å“åº”
- **å…·ä½“é—®é¢˜**: ç”¨æˆ·é€‰ä¸­æ’­æ”¾åˆ—è¡¨åï¼Œç‚¹å‡»è½¬ç›˜ä¸­å¤®æŒ‰é’®æ— æ³•è¿›å…¥Now Playingç•Œé¢

#### ä¿®å¤çŠ¶æ€
- **ä¿®å¤ç»“æœ**: âœ… **å·²å®Œæˆ**
- **ä¿®å¤æ—¥æœŸ**: 2025å¹´7æœˆ14æ—¥
- **ä¿®å¤å†…å®¹**: å®ç°äº†ä¸­å¤®æŒ‰é’®ç‚¹å‡»äº‹ä»¶ä¸æ’­æ”¾åˆ—è¡¨é€‰æ‹©çš„æ­£ç¡®ç»‘å®š
- **æµ‹è¯•éªŒè¯**: å·²é€šè¿‡æµ‹è¯•ï¼Œç‚¹å‡»ä¸­å¤®æŒ‰é’®å¯æ­£ç¡®è¿›å…¥Now Playingç•Œé¢å¹¶æ’­æ”¾é€‰ä¸­åˆ—è¡¨

---

### 4. Now Playingç•Œé¢æ’­æ”¾è¿›åº¦æ¡æ›´æ–°é—®é¢˜ ğŸ”„ **å¾…ä¿®å¤**

#### é—®é¢˜æè¿°ï¼ˆæ›´æ–°åï¼‰
- **å½“å‰çŠ¶æ€**: æ’­æ”¾è¿›åº¦æ¡æ›´æ–°æœºåˆ¶ä»å­˜åœ¨ç¼ºé™·
- **å…·ä½“é—®é¢˜**: è¿›åº¦æ¡å’Œæ—¶é—´æ˜¾ç¤º**åªåœ¨ç”¨æˆ·ç‚¹å‡»æš‚åœæŒ‰é’®åæ‰ä¼šæ›´æ–°**ï¼Œä¸ä¼šéšæ’­æ”¾è¿›åº¦å®æ—¶å˜åŒ–
- **è§¦å‘æ¡ä»¶**: æ’­æ”¾è¿‡ç¨‹ä¸­è¿›åº¦æ¡ä¿æŒé™æ­¢ï¼Œç‚¹å‡»æš‚åœåç¬é—´è·³è½¬åˆ°æ­£ç¡®ä½ç½®

#### é—®é¢˜ç»†åŒ–åˆ†æ
- **ç°è±¡**: æ’­æ”¾æ—¶è¿›åº¦æ¡é™æ­¢ä¸åŠ¨ï¼Œç‚¹å‡»æš‚åœåè¿›åº¦æ¡ç«‹å³è·³è½¬åˆ°æ­£ç¡®ä½ç½®
- **æ ¹å› **: å¯èƒ½å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š
  - æ’­æ”¾çŠ¶æ€çš„è¿›åº¦æ›´æ–°äº‹ä»¶æœªè¢«æ­£ç¡®ç›‘å¬
  - å®šæ—¶æ›´æ–°æœºåˆ¶åœ¨æ’­æ”¾çŠ¶æ€ä¸‹æœªæ¿€æ´»
  - è¿›åº¦è·å–é€»è¾‘å¯èƒ½åªåœ¨æš‚åœæ—¶è§¦å‘

#### ä¼˜åŒ–æ–¹æ¡ˆï¼ˆç»†åŒ–ç‰ˆï¼‰
- **å®æ—¶ç›‘å¬**: ç¡®ä¿åœ¨æ’­æ”¾çŠ¶æ€ä¸‹æŒç»­ç›‘å¬Spotifyçš„è¿›åº¦æ›´æ–°äº‹ä»¶
- **ä¸»åŠ¨åˆ·æ–°**: å®ç°æ’­æ”¾çŠ¶æ€ä¸‹çš„ä¸»åŠ¨è¿›åº¦æŸ¥è¯¢æœºåˆ¶
- **çŠ¶æ€åŒæ­¥**: éªŒè¯æ’­æ”¾çŠ¶æ€ä¸è¿›åº¦æ›´æ–°æœºåˆ¶çš„åŒæ­¥æ€§

#### æŠ€æœ¯å®ç°å»ºè®®ï¼ˆæ›´æ–°ç‰ˆï¼‰
```swift
// æ›´ç²¾ç¡®çš„è¿›åº¦æ›´æ–°æœºåˆ¶
.onReceive(playbackProgressPublisher) { progress in
    if isPlaying {
        currentProgress = progress
        currentTime = progress * totalTime
    }
}

// æˆ–è€…ä½¿ç”¨å®šæ—¶å™¨ä¸»åŠ¨æŸ¥è¯¢
.onReceive(Timer.publish(every: 0.5, on: .main, in: .common).autoconnect()) { _ in
    if isPlaying {
        refreshCurrentPlaybackPosition()
    }
}
```

#### éªŒæ”¶æ ‡å‡†ï¼ˆç»†åŒ–ç‰ˆï¼‰
- [ ] æ’­æ”¾çŠ¶æ€ä¸‹è¿›åº¦æ¡æ¯0.5-1ç§’è‡ªåŠ¨æ›´æ–°ä¸€æ¬¡
- [ ] ç‚¹å‡»æš‚åœæŒ‰é’®æ—¶ä¸éœ€è¦è§¦å‘è¿›åº¦æ›´æ–°
- [ ] è¿›åº¦æ¡æ›´æ–°ä¸éŸ³ä¹æ’­æ”¾å®Œå…¨åŒæ­¥ï¼Œæ— å»¶è¿Ÿ
- [ ] æš‚åœ/æ’­æ”¾åˆ‡æ¢æ—¶è¿›åº¦æ¡è¡Œä¸ºæ­£å¸¸ï¼Œæ— è·³è·ƒç°è±¡

---

## ä¿®å¤è¿›åº¦æ€»ç»“

### ç¬¬ä¸€è½®ä¿®å¤å®Œæˆ âœ…
- **è½¬ç›˜æ§åˆ¶åŒºå›¾æ ‡ç‚¹å‡»èŒƒå›´ä¼˜åŒ–** - âœ… å·²å®Œæˆ
- **Playlistç•Œé¢ä¸­å¤®æŒ‰é’®åŠŸèƒ½** - âœ… å·²å®Œæˆ

### ç¬¬äºŒè½®ä¿®å¤éœ€æ±‚ ğŸ”„
- **Now Playingç•Œé¢æ’­æ”¾è¿›åº¦æ¡æ›´æ–°é—®é¢˜** - éœ€è¦å®ç°å®æ—¶æ›´æ–°æœºåˆ¶
- **Playlistç•Œé¢Cover Flowæ»šåŠ¨è¾¹ç•Œä¼˜åŒ–** - éœ€è¦å®ç°æ— è¾¹ç•Œå¾ªç¯æ»šåŠ¨

## æ›´æ–°åçš„ä¼˜å…ˆçº§æ’åº

| ä¼˜å…ˆçº§ | åŠŸèƒ½é¡¹ | å½“å‰çŠ¶æ€ | å½±å“ç¨‹åº¦ | å¼€å‘å¤æ‚åº¦ |
|--------|--------|----------|----------|------------|
| P0 | æ’­æ”¾è¿›åº¦æ¡å®æ—¶æ›´æ–° | å¾…ä¿®å¤ | æ ¸å¿ƒåŠŸèƒ½ç¼ºå¤± | ä¸­ |
| P0 | Cover Flowæ— è¾¹ç•Œæ»šåŠ¨ | å¾…ä¼˜åŒ– | ç”¨æˆ·ä½“éªŒä¼˜åŒ– | ä¸­ |

## åç»­è®¡åˆ’

ç¬¬äºŒè½®ä¿®å¤å°†ä¸“æ³¨äºï¼š
1. å®ç°æ’­æ”¾è¿›åº¦æ¡çš„å®æ—¶è‡ªåŠ¨æ›´æ–°æœºåˆ¶
2. ä¼˜åŒ–Cover Flowçš„è¾¹ç•Œæ»šåŠ¨ä½“éªŒï¼Œå®ç°çœŸæ­£çš„æ— è¾¹ç•Œå¾ªç¯é€‰æ‹©

é¢„è®¡åœ¨ç¬¬äºŒè½®ä¿®å¤å®Œæˆåè¿›è¡Œæœ€ç»ˆæµ‹è¯•éªŒè¯ã€‚

---

*æ–‡æ¡£åˆ›å»ºï¼š2025å¹´7æœˆ14æ—¥*  
*ç¬¬ä¸€è½®ä¿®å¤å®Œæˆï¼š2025å¹´7æœˆ14æ—¥*  
*æ–‡æ¡£çŠ¶æ€ï¼šç¬¬äºŒè½®ä¿®å¤è¿›è¡Œä¸­*