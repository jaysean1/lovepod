# Lovepod v3 功能需求文档

## 项目概述
本文档描述了 Lovepod v3 版本的核心功能需求，主要解决 Spotify 连接断开后的用户体验问题。

## Lovepod v3 核心问题总览与详细方案

### 三个核心需求总览

| 需求编号 | 问题描述 | 修复建议 | 状态 |
|---------|----------|----------|--------|
| **需求1** | 产品断开Spotify连接问题：停止播放后连接断开，界面无响应 | - | **待处理** |
| **需求2** | Cover Flow默认选中逻辑优化：进入时选中位置不正确，视觉卡顿 | - | **待处理** |
| **需求3** | 转盘控制器触发位置优化 | - | **待处理** |

---

### 需求1详细方案：产品断开Spotify连接问题


#### 问题描述
产品在停止播放一段时间后会与 Spotify 断开连接，具体表现为：
- 点击 Cover Flow 无响应
- 播放控制按钮失效
- 用户无法直观了解当前连接状态

#### 修复建议
当检测到与 Spotify 断开连接，时，下方 popup 弹出提示用户重新连接 Spotify，用户点击后，会重新自动打开 Spotify 应用建立连接，并返回 Lovepod 应用，并恢复播放。

---

### 需求2详细方案：Cover Flow默认选中逻辑优化

#### 问题描述
当用户从 playlist 列表点击进入 cover flow 界面时，默认选中的 playlist 位置不正确，出现卡在两个 playlist 之间的视觉状态，影响用户体验。

#### 具体表现
- 默认选中位置偏移，不在第一个playlist
- 视觉显示卡在两个playlist之间
- 用户体验不流畅

#### 修复建议
重新设计 COVER FLOW 的选中逻辑，区分进入的场景：
- 首次从 playlist 列表进入 cover flow 界面时，默认选中第一个 playlist
- nowplay 界面，即在播放某一 list 时，点击进入menue 返回 cover flow 界面时，默认选中当前播放的 playlist
- 从 playlist 列表进入 cover flow 界面时，有播放中的 list 时，默认选中当前播放的 playlist

---

### 需求3详细方案：转盘控制器敏感度优化

#### 问题描述
当前转盘控制器（click wheel）的触发位置需要在非 icon 区域，否则会触发 icon 的点击事件。导致如果手指如果首次触控的位置如果是 icon 区域，会导致无法触发转盘控制器。


#### 修复建议
如果手指触控区域是 icon 区域，但是没有马上触发 icon 的点击事件，应该正常可以触发滚动事件
