# LovePod - 经典iPod风格音乐播放器

一个基于SwiftUI的iOS应用，重现经典iPod的用户体验和视觉设计。

## 🎵 功能特性

### 已实现的核心功能
- ✅ 完整的iPod经典布局（上下50%分屏）
- ✅ 可交互的点击轮转盘控制
- ✅ 转盘旋转手势识别（30度触发菜单切换）
- ✅ 完整的触觉反馈系统
- ✅ 主页界面（左右分屏菜单布局）
- ✅ 播放列表界面（Cover Flow预览）
- ✅ Now Playing界面（专辑封面+播放控制）
- ✅ 设置界面（主题、升级等选项）
- ✅ 主题选择界面（经典、黑色、复古、霓虹）
- ✅ 状态栏（页面标题+电池图标）
- ✅ 页面间流畅导航动画

### 交互体验
- **转盘旋转**: 用户可以通过拖动转盘外圈来控制菜单选择
- **中央按钮**: 确认选择/播放暂停控制
- **MENU按钮**: 返回上一级页面
- **方向按钮**: 在播放界面控制上一首/下一首
- **触觉反馈**: 所有交互都有对应的震动反馈

## 🏗️ 技术架构

### 核心组件
```
lovepod/
├── DesignSystem.swift          # 设计系统（颜色、字体、间距等）
├── AppState.swift              # 全局状态管理
├── iPodLayout.swift           # 主要布局容器
├── ContentView.swift          # 应用入口
├── HapticManager.swift        # 触觉反馈管理器
└── Views/
    ├── HomeView.swift         # 主页界面
    ├── PlaylistView.swift     # 播放列表界面
    ├── NowPlayingView.swift   # 正在播放界面
    ├── SettingsView.swift     # 设置界面
    └── ThemesView.swift       # 主题选择界面
```

### 设计原则
- **基于design.json**: 严格遵循PRD中定义的设计规范
- **比例化设计**: 使用相对尺寸确保在不同设备上的一致性
- **组件化架构**: 可复用的UI组件和清晰的职责分离
- **状态驱动**: 使用ObservableObject实现响应式UI更新

## 🎨 视觉设计

### 布局结构
```
┌─────────────────────────┐
│     Status Bar          │  ← 状态栏 (30pt)
├─────────────────────────┤
│                         │
│    Screen Area (50%)    │  ← 内容显示区域
│                         │
├─────────────────────────┤
│                         │
│   Control Area (50%)    │  ← 转盘控制区域
│                         │
└─────────────────────────┘
```

### 颜色方案
- **背景色**: #FFFFFF (白色)
- **文本色**: #000000 (黑色)
- **高亮背景**: #3478F6 (蓝色)
- **高亮文本**: #FFFFFF (白色)
- **分割线**: #C8C7CC (浅灰)

### 转盘规格
- **转盘直径**: 屏幕宽度的70%
- **中央按钮**: 转盘直径的35%
- **旋转识别**: 最小15度角度，30度触发动作

## 🚀 开始使用

### 运行要求
- iOS 15.0+
- Xcode 14.0+
- iPhone设备（推荐，触觉反馈功能）

### 构建步骤
```bash
# 克隆项目
git clone [repository-url]
cd lovepod

# 使用Xcode打开项目
open lovepod.xcodeproj

# 或使用命令行构建
xcodebuild -scheme lovepod -sdk iphonesimulator build
```

### 项目结构说明
1. **DesignSystem.swift**: 包含所有设计规范，基于PRD中的design.json
2. **AppState.swift**: 管理应用状态，包括导航、选中项、播放状态等
3. **iPodLayout.swift**: 主要布局容器，包含状态栏和转盘组件
4. **Views/**: 各个页面的具体实现

## 📱 用户界面导览

### 主页 (Home)
- 左侧菜单: Playlist, Settings, User
- 右侧预览: 对应功能的图标显示
- 转盘操作: 旋转选择，中央按钮确认

### 播放列表 (Playlist)
- Cover Flow展示: 横向滚动的播放列表封面
- 自动居中: 选中项自动滚动到屏幕中央
- 播放列表信息: 显示名称和歌曲数量

### 正在播放 (Now Playing)
- 专辑封面: 200x200pt居中显示
- 歌曲信息: 标题、艺术家、专辑名称
- 进度控制: 进度条和时间显示
- 转盘控制: 旋转调节进度，按钮控制播放

### 设置页面 (Settings)
- 主题选择: 支持多种iPod风格主题
- 升级选项: Pro版本功能入口
- 关于信息: 应用版本和开发者信息

## 🔄 下一步开发计划

### Phase 3: 服务集成 (待实现)
- [ ] 集成Spotify SDK
- [ ] 实现真实的音乐播放功能
- [ ] 用户授权和认证流程

### Phase 4: 高级功能 (待实现)
- [ ] Cover Flow 3D效果动画
- [ ] 主题系统完整实现
- [ ] 错误处理和离线功能
- [ ] 性能优化和内存管理

## 📋 开发说明

### 状态管理
应用使用`AppState`类管理全局状态：
- `currentPage`: 当前显示的页面
- `selectedHomeMenuItem`: 主页选中的菜单项
- `playbackProgress`: 播放进度
- `playlists`: 模拟的播放列表数据

### 手势识别
转盘旋转手势通过`DragGesture`实现：
- 计算角度变化量
- 累计旋转角度
- 达到阈值时触发菜单切换

### 触觉反馈
`HapticManager`提供不同类型的震动反馈：
- 轻微震动: 转盘旋转
- 中等震动: 按钮点击
- 强烈震动: 播放控制

## 🎯 已完成的开发目标

✅ **Phase 1: 核心UI框架** - 完成
- 主应用布局
- 静态转盘视图
- 所有主要界面的静态UI

✅ **Phase 2: 交互和导航** - 完成
- 转盘手势识别
- UI状态管理
- 页面导航逻辑
- 触觉反馈系统

应用已具备完整的iPod经典体验，可以运行并演示所有核心交互功能。